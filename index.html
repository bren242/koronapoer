
<!DOCTYPE html>
<html lang="he">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <meta charset="UTF-8" />
  <title>××—×©×‘×•×Ÿ ×¤×¨×¡×™ ×˜×•×¨× ×™×¨ ×¤×•×§×¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  

<style>
  @media screen and (max-width: 600px) {
    body {
      font-size: 14px;
      padding: 10px;
    }
    input, select, button {
      font-size: 14px;
    }
    table {
      font-size: 13px;
    }
    th, td {
      padding: 6px;
    }
  }

    td, th {
      max-width: 100px;
      white-space: nowrap;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      direction: rtl;
      padding: 30px;
      background-color: #f2f2f2;
    }
    input, select, button {
      margin: 8px 0;
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      width: 100%;
      max-width: 400px;
      box-sizing: border-box;
    }
    button {
      background-color: #e74c3c;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #c0392b;
    }
    #results {
      margin-top: 30px;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 0px 10px #bbb;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #ffeaa7;
    }
    .highlight {
      background-color: #fab1a0;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>××—×©×‘×•×Ÿ ×¤×¨×¡×™ ×˜×•×¨× ×™×¨ ×¤×•×§×¨</h2>

  <label>×›×•×ª×¨×ª ×˜×•×¨× ×™×¨:
    <input type="text" id="tournamentTitle" placeholder="×œ××©×œ: ×˜×•×¨× ×™×¨ ×¢×¨×‘ ×—××™×©×™">
  </label>

  <label>×¡×•×’ ×˜×•×¨× ×™×¨:
    <select id="tournamentType" onchange="toggleFields()">
      <option value="regular">×¨×’×™×œ</option>
      <option value="bounty">×‘××•× ×˜×™</option>
    </select>
  </label>

  <div id="regularFields">
    <label>×¡×›×•× ×›× ×™×¡×” (×©"×—):
      <input type="number" id="regularBuyIn" min="1" value="100">
    </label>
  </div>

  <div id="bountyFields" style="display: none;">
    <label>×¡×›×•× ×œ×§×•×¤×ª ×¤×¨×¡×™× (×©"×—):
      <input type="number" id="bountyEntry" min="1" value="100">
    </label>
    <label>×¡×›×•× ×œ×‘××•× ×˜×™ (×©"×—):
      <input type="number" id="bountyAmount" min="1" value="50">
    </label>
  </div>

  <label>××¡×¤×¨ ××©×ª×ª×¤×™×:
    <input type="number" id="players" min="2" value="10">
  </label>

  <button onclick="calculatePrizes()">×—×©×‘ ×¤×¨×¡×™×</button>

  <div id="results"></div>

  <script>
    function toggleFields() {
      const type = document.getElementById("tournamentType").value;
      document.getElementById("bountyFields").style.display = type === "bounty" ? "block" : "none";
      document.getElementById("regularFields").style.display = type === "regular" ? "block" : "none";
    }

    window.onload = toggleFields;

    function getPrizeDistribution(players) {
      if (players <= 8) return [65, 35];
      if (players <= 12) return [50, 30, 20];
      if (players <= 17) return [34, 26, 27, 13];
      if (players <= 24) return [34, 26, 20, 13, 7];
      if (players <= 35) return [34, 26, 16, 12, 8, 4];
      if (players <= 44) return [32, 24, 14, 10, 8, 6, 6];
      return [32, 22, 12, 9, 7, 6, 6, 6];
    }

    function calculatePrizes() {
      const title = document.getElementById("tournamentTitle").value;
      const type = document.getElementById("tournamentType").value;
      const players = parseInt(document.getElementById("players").value);

      let prizePart = 0;
      let bountyPart = 0;

      if (type === "bounty") {
        prizePart = parseFloat(document.getElementById("bountyEntry").value);
        bountyPart = parseFloat(document.getElementById("bountyAmount").value);
      } else {
        prizePart = parseFloat(document.getElementById("regularBuyIn").value);
      }

      const prizePool = players * prizePart;
      const distribution = getPrizeDistribution(players);
      if (!distribution) return;

      let html = `<h3 style="text-align:center">${title || "×ª×•×¦××•×ª ×”×˜×•×¨× ×™×¨"} â€“ ${players} ××©×ª×ª×¤×™×</h3>`;
      html += `<p>×§×•×¤×ª ×¤×¨×¡×™×: â‚ª${prizePool}</p>`;
      if (bountyPart > 0) {
        const totalBounty = players * bountyPart;
        html += `<p>×‘××•× ×˜×™: ${bountyPart} â‚ª ×¢×œ ×›×œ ×”×“×—×” | ×¡×”"×› ×§×•×¤×ª ×‘××•× ×˜×™: â‚ª${totalBounty}</p>`;
      }

      html += "<div style="overflow-x:auto;"><table>";
      if (type === "bounty") {
        html += `<tr><th>××§×•×</th><th>×©× ×–×•×›×”</th><th>××—×•×–</th><th>××”×§×•×¤×”</th><th>××¡' ×”×“×—×•×ª</th><th>×‘××•× ×˜×™</th><th>×¡×”"×›</th></tr>`;
      } else {
        html += `<tr><th>××§×•×</th><th>×©× ×–×•×›×”</th><th>××—×•×–</th><th>×¡×›×•× (×©"×—)</th></tr>`;
      }

      distribution.forEach((percent, i) => {
        const place = i + 1;
        const prize = Math.round(prizePool * percent / 100);
        if (type === "bounty") {
          html += `<tr><td>${place}</td><td contenteditable="true"></td><td>${percent}%</td><td>${prize} â‚ª</td>
            <td><input id="ko_${place}" type="number" min="0" value="0" oninput="updateTotal(${place}, ${prize}, ${bountyPart})" style="width:60px;"></td>
            <td id="bounty_${place}">â‚ª 0</td>
            <td id="total_${place}">${prize} â‚ª</td></tr>`;
        } else {
          html += `<tr><td>${place}</td><td contenteditable="true"></td><td>${percent}%</td><td>${prize} â‚ª</td></tr>`;
        }
      });

      html += "</table></div>";
      document.getElementById("results").innerHTML = html;
    }

    function updateTotal(place, prize, bountyValue) {
      const ko = parseInt(document.getElementById("ko_" + place).value) || 0;
      const bounty = ko * bountyValue;
      document.getElementById("bounty_" + place).innerText = "â‚ª " + bounty;
      document.getElementById("total_" + place).innerText = "â‚ª " + (prize + bounty);
    }
  </script>


<button onclick="prepareScreenshot('before')">ğŸ“„ ××¦×‘ ×¦×™×œ×•× ×œ×¤× ×™ ×¤×¨×¡×•×</button>
<button onclick="prepareScreenshot('after')">ğŸ“„ ××¦×‘ ×¦×™×œ×•× ××—×¨×™ ×¤×¨×¡×•×</button>
<button onclick="resetView()">ğŸ” ×—×–×¨×” ×œ××¦×‘ ×¢×¨×™×›×”</button>

<script>
  function prepareScreenshot(mode) {
    const rows = document.querySelectorAll("#results table tr");

    rows.forEach((row, index) => {
      if (index === 0) return;
      const cells = row.children;
      if (mode === 'before') {
        if (cells.length >= 5) {
          if (cells[4]) cells[4].innerText = "-";
          if (cells[5]) cells[5].innerText = "-";
          if (cells[6]) cells[6].innerText = cells[3].innerText;
        }
        if (cells[1]) {
          cells[1].setAttribute("contenteditable", "false");
          cells[1].style.backgroundColor = "#ffffff";
        }
      } else if (mode === 'after') {
        if (cells[4]) {
          const input = cells[4].querySelector("input");
          if (input) cells[4].innerText = input.value || "-";
        }
        if (cells[1]) {
          cells[1].setAttribute("contenteditable", "false");
          cells[1].style.backgroundColor = "#ffffff";
        }
      }
    });

    // Hide everything except the reset button
    const allButtons = document.querySelectorAll("button");
    allButtons.forEach(btn => {
      if (btn.innerText.includes("×—×–×¨×”")) {
        btn.style.display = "inline-block";
      } else {
        btn.style.display = "none";
      }
    });

    document.body.style.backgroundColor = "#ffffff";
    document.getElementById("results").style.boxShadow = "none";
  }

  function resetView() {
    location.reload(); // reloads the page for a clean reset
  }
</script>


</body>
</html>
